<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agent Ritter</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            font-family: monospace;
            background-color: black;
            color: white;
        }

        .screen-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .screen {
            background-color: black;
            padding: 20px;
            border: 1px solid white;
            width: 800px;
            text-align: center;
        }

        #text-display {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .letter-box {
            color: white;
            display: inline-block;
            padding: 5px;
            margin: 2px;
            min-width: 20px;
            text-align: center;
            font-size: 24px;
            opacity: 1;
            transition: opacity 0.25s;
        }

        #cursor {
            font-weight: bold;
            color: white;
            animation: blink 1s step-start infinite;
        }

        @keyframes blink {
            50% { opacity: 0; }
        }

        #intro-text {
            font-size: 12px;
            margin-top: 10px;
            text-align: left;
            line-height: 1.5;
        }

        #enigme-section, #message-final, #cases-section {
            margin-top: 20px;
            display: none;
        }

        .enigme-text, .enigme {
            text-align: left;
            color: white;
        }

        #cases-section {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .case {
            border: 2px solid white;
            padding: 10px;
            font-size: 24px;
            text-align: center;
            color: black;
            background-color: white;
            width: 50px;
        }

        .hidden {
            display: none;
        }

    </style>
</head>
<body>
    <div class="screen-container">
        <div class="screen">
            <div id="text-display"></div>
            <div id="intro-text">
                Agent Ritter, <br><br>
                Nous sommes face à une crise mondiale sans précédent. Un nouveau virus, surnommé <strong>BOLOSSE-21</strong>, s’est échappé du P3 de l’ENS, il se propage à une vitesse alarmante. Ses effets sont... inquiétants. Les personnes infectées perdent progressivement leur bon sens et font des choses insensées : envoyer des emails super longs à 23h, se curer les pieds au taff, faire des erreurs de castings, il fait même perdre la mémoire à certaines personnes… Nous avions déjà envoyé ton deuxième neurone mener l’enquête mais il a disparu, nous avons juste retrouvé un message de sa part nous disant de te contacter. Mais avant de te le donner, il nous a dit de tester tes compétences, résous ces deux énigmes et nous te le montrerons.
            </div>
            <span id="cursor">_</span>
            <div id="enigme-section">
                <p class="enigme-text">Voici votre énigme :</p>
                <p class="enigme" id="enigme-text">
                    Trois amis, Cococh, Samsam, et Jojo, décident de se partager des haricots magiques. Pour cela, Melmel leur a imposé ces règles :
                    <br>1. Cococh prend 1/4 de la somme totale.
                    <br>2. Samsam prend 1/3 de ce qui reste après que Cococh a pris sa part.
                    <br>3. Jojo prend 1/2 de ce qui reste après que Samsam a pris sa part.
                    <br>4. Après que tout le monde a pris sa part, il reste exactement 20 haricots magiques.
                </p>
                <input type="text" id="reponse" placeholder="Votre réponse ici...">
                <button id="valider">Valider</button>
                <p id="resultat"></p>
            </div>

            <!-- Section pour afficher le message final -->
            <div id="message-final" class="hidden">
                <p>Bravo agent Ritter tu as passé la première étape maintenant voici son message :</p>
                <p><strong>MESSAGE CODÉ — URGENCE PRIORITAIRE</strong></p>
                <p>À l’attention de : Agent Momo Ritter<br>
                    Mission : "Opération BOLOSSE-21"<br><br>
                    Agent Ritter, alias Momo,<br>
                    Ta mission ne fait que commencer. Il y a 12 endroits... des endroits que seuls toi et moi connaissons. Des lieux qui ont marqué nos précédentes missions, où chaque recoin cache un souvenir, mais surtout... un message. Ensemble, ces messages formeront la clé pour comprendre ce qui t’attends. Mais attention, ces lieux ne sont pas anodins, et trouver les messages ne sera pas chose facile.<br><br>
                    Je n’ai pas besoin de te les nommer. Tu sais exactement où aller.<br>
                    Momo, cette fois, c’est à toi de partir seul. Cherche ces lieux, trouve les messages, et déchiffre le puzzle. Je te rejoindrai une fois que tu auras tous les indices en main, conserve les bien et souviens-toi, le temps est compté, et ce n'est pas un simple jeu. Il faut agir vite avant que le virus du BOLOSSE-21 ne s’enracine trop au sein de l’équipe, déjà plusieurs PIs semblent gravement atteints…<br><br>
                    Bonne chance ma Momo.
                </p>
            </div>

            <!-- Section pour les 9 cases -->
            <div id="cases-section">
                <input type="text" maxlength="1" class="case">
                <input type="text" maxlength="1" class="case">
                <input type="text" maxlength="1" class="case">
                <input type="text" maxlength="1" class="case">
                <input type="text" maxlength="1" class="case">
                <input type="text" maxlength="1" class="case">
                <input type="text" maxlength="1" class="case">
                <input type="text" maxlength="1" class="case">
                <input type="text" maxlength="1" class="case">
            </div>

            <button id="check-aphrodite" class="hidden">Valider</button>
        </div>
    </div>

    <script>
        const text = "CONFIDENTIEL - MISSION virus BOLOSSE-21.";
        let index = 0;
        let currentLetterBox = null;

        function afficherLettre() {
            const textDisplay = document.getElementById('text-display');

            if (currentLetterBox) {
                currentLetterBox.classList.add('show');
            }

            if (index < text.length) {
                // Créer un conteneur pour la lettre actuelle
                const letterBox = document.createElement('span');
                letterBox.classList.add('letter-box');
                letterBox.textContent = text[index];

                // Ajouter la lettre à l'interface
                textDisplay.appendChild(letterBox);

                currentLetterBox = letterBox;

                // Afficher la lettre suivante trois fois plus rapidement
                index++;
                setTimeout(afficherLettre, 100); // Vitesse 3 fois plus rapide
            } else {
                // Masquer le curseur une fois que le texte est affiché
                document.getElementById('cursor').style.display = 'none';
                afficherEnigme();  // Afficher l'énigme une fois le texte terminé
            }
        }

        // Afficher l'énigme après le texte
        function afficherEnigme() {
            document.getElementById('enigme-section').style.display = 'block';
        }

        window.onload = () => {
            afficherLettre(); // Lancer l'animation au chargement
        };

        // Fonction pour vérifier la réponse et passer à l'étape suivante
        document.getElementById('valider').addEventListener('click', function() {
            const reponse = document.getElementById('reponse').value.trim();
            const resultat = document.getElementById('resultat');

            if (reponse === '80') {
                // Bonne réponse, on passe à l'énigme suivante
                document.getElementById('enigme-text').innerHTML = `
                    Je vis dans les profondeurs, mais je ne suis pas un poisson.<br>
                    Mon corps semble
